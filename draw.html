<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/p5@1.5.0/lib/p5.js"></script>
        <script>
            var color = "#000000";
            var size = 10;
            function setup() {
                createCanvas(1300, 650);
                background(255, 255, 255);
                //alert("Canvas loaded!");
            };
            
            function touchMoved() {
                stroke(color);
                strokeWeight(size);
                line(mouseX, mouseY, pmouseX, pmouseY);
                //noStroke();
                //fill(color);
                //ellipse(mouseX, mouseY, size);
            };
        </script>
        <title>Drawing Tool</title>
        <style>
            body {
                background-color: rgb(200, 230, 255);
                color: rgb(25, 120, 150);
                font-family: Comic Sans MS, Chalkboard SE;
                margin: auto;
                overflow: hidden;
                text-align: center;
            }
            button, input, label, select {
                font-size: 18px;
            gap {
                -ms-user-select: none;
                -webkit-user-select: none;
                color: rgb(200, 230, 255);
                user-select: none;
                visibility: hidden;
            }
            h1 {
                color: rgb(0, 25, 75);
            }
        </style>
    </head>
    <body onclick="setMode();">
        <h1>Drawing Tool</h1>
        <select id="mode" value="draw" mouseleave="setMode();" mouseout="setMode();" touchend="setMode();">
            <option onclick="setTimeout(setMode, 100);" value="draw">Draw</option>
            <option onclick="setTimeout(setMode, 100);" value="erase">Erase</option>
        </select>
        <gap>AA</gap>
        <label id="colorLabel" for"color">Color: </label>
        <input id="color" type="color">
        <button id="applyColor" onclick="setColor();">Apply</button>
        <gap>AAAAA</gap>
        <label for="size">Size: </label>
        <input id="size" type="number" value="10">
        <button id="setSize" onclick="setSize();">Apply</button>
        <gap>AAA</gap>
        <button onclick="setSize(2);">Tiny</button>
        <button onclick="setSize(5);">Small</button>
        <button onclick="setSize(10);">Medium</button>
        <button onclick="setSize(20);">Large</button>
        <button onclick="setSize(30);">Really Big</button>
        <button onclick="setSize(75);">Giant</button><br>
        <gap>A</gap>
        <script>
            var mode = document.getElementById("mode");
            var colorLabel = document.getElementById("colorLabel");
            var selectedColor = document.getElementById("color");
            var applyColor = document.getElementById("applyColor");
            var colorS = selectedColor.value;
            var clear = document.getElementById("clear");
            var sizeBox = document.getElementById("size");
            var drawSize = sizeBox.value;
            
            function setMode() {
                if (mode.value == "erase") {
                    colorLabel.style.visibility = "hidden";
                    selectedColor.style.visibility = "hidden";
                    applyColor.style.visibility = "hidden";
                    colorS = selectedColor.value;
                    color = "#FFFFFF";
                    drawSize = sizeBox.value;
                    size = drawSize * 2.5;
                    sizeBox.value = size;
                } else {
                    colorLabel.style.visibility = "visible";
                    selectedColor.style.visibility = "visible";
                    applyColor.style.visibility = "visible";
                    color = colorS;
                    size = drawSize;
                };
            };
            
            function setColor() {
                color = selectedColor.value;
                colorS = color;
                //alert("Set color to " + color);
            };
            
            function setSize(customSize) {
                if (customSize) {
                    if (Number(customSize) {
                        size = Number(customSize);
                        sizeBox.value = size;
                    };
                } else if (Number(sizeBox.value)) {
                    size = sizeBox.value;
                    //alert("Set size to " + size);
                };
            };
        </script>
    </body>
</html>
